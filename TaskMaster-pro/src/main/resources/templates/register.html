<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Registration</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous" />
    <link rel="icon" type="image/x-icon" href="/assets/titlebar-logo.png">
    
<!-- SweetAlert2 CDN -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    
 
    
</head>
<body>
    <!-- Header -->
    <div th:insert="~{fragments/header :: header}"></div>
    <main>
        <br><br><br>
        	<div class="container reg-container">
		<div class="myCard">
			<div class="row">
				<div>
					<div class="myLeftCtn">
 <form class="myForm text-center" th:action="@{/registration/saveUser}" method="POST" th:object="${user}">

                                <header>Create new account</header>

                                <div class="form-group">
                                    <i class="fas fa-user"></i> 
                                    <input class="myInput" type="text" th:field="*{name}" placeholder="Your name" required>
                                </div>

                                <div class="form-group">
                                    <i class="fas fa-phone fa-flip-horizontal"></i> 
                                    <input class="myInput" type="text" th:field="*{phoneNumber}" placeholder="Phone Number" required>
                                </div>

                                <div class="form-group">
                                    <i class="fas fa-envelope"></i> 
                                    <input class="myInput" type="email" th:field="*{email}" placeholder="Email" required>
                                </div>

                                <div class="form-group">
                                    <i class="fas fa-lock"></i> 
                                    <input class="myInput" type="password" th:field="*{password}" placeholder="Password" required>
                                </div>

                                <div class="form-group">
                                    <label> 
                                        <input id="check_1" name="check_1" type="checkbox" required>
                                        <small>I read and agree to Terms & Conditions</small>
                                        <div class="invalid-feedback">You must check the box.</div>
                                    </label>
                                </div>

                                <br>
                                <input type="submit" class="butt" value="CREATE ACCOUNT">
                                <br> <br>
                           <h6>Already have an Account ?</h6>
					       <!-- <a th:href="@{/registration}"> Create New </a> -->
					        <button  type ="button" onclick="window.location.href='/login'" class= " btn btnlogin-redirect" style = "background-color : #d4dd43 ;  border-radius: 25px"  > Login Here </button>
                            </form>

                           <div th:if="${success}">
        <script type="text/javascript">
            Swal.fire({
                title: 'Success!',
                text: 'User Registered Successfully!',
                icon: 'success',
                confirmButtonText: 'OK',
                	allowOutsideClick: false,  
                    allowEscapeKey: false
            }).then((result) => {
                if (result.isConfirmed) {
                    window.location.href = "/login";  // Redirect to login page
                }
            });
        </script>
    </div>

					</div>
				</div>
				
			</div>
		</div>
	</div>
	</main>
 
</body>
</html>
